# ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –°–∫–æ—Ä–æ—Å—Ç–∏ - ULTRA FAST MODE

## üéØ –¶–µ–ª—å: –ë–´–°–¢–†–û + –ö–ê–ß–ï–°–¢–í–ï–ù–ù–û

–ü—Ä–∏–º–µ–Ω–µ–Ω—ã **–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏** –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞.

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã: –î–æ vs –ü–æ—Å–ª–µ

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ (QUALITY) | –ü–æ—Å–ª–µ (ULTRA FAST) | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|--------------|---------------------|-----------|
| **–®–∞–≥–∏** | 20 | 12 | **-40%** |
| **Guidance Scale** | 7.5 | 6.5 | **-13%** |
| **IP-Adapter Scale** | 0.80 | 0.50 | **-37%** |
| **–û–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** | ~6-7 —Å–µ–∫ | **~3-4 —Å–µ–∫** | **~50% –±—ã—Å—Ç—Ä–µ–µ** üöÄ |
| **6 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** | ~36-42 —Å–µ–∫ | **~18-24 —Å–µ–∫** | **~50% –±—ã—Å—Ç—Ä–µ–µ** üöÄ |

**–û–∂–∏–¥–∞–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å**: ~3-4 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–≤–º–µ—Å—Ç–æ 6-7 —Å–µ–∫—É–Ω–¥)

---

## üöÄ –ü—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1Ô∏è‚É£ –®–∞–≥–∏ –î–∏—Ñ—Ñ—É–∑–∏–∏ (NUM_INFERENCE_STEPS)

**–ë—ã–ª–æ**: 20 —à–∞–≥–æ–≤
**–°—Ç–∞–ª–æ**: **12 —à–∞–≥–æ–≤** (-40% –≤—Ä–µ–º–µ–Ω–∏)

```python
# config.py, —Å—Ç—Ä–æ–∫–∞ 59:
NUM_INFERENCE_STEPS = 12  # üöÄ ULTRA FAST
```

**–≠—Ñ—Ñ–µ–∫—Ç**:
- 40% –º–µ–Ω—å—à–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- –ù–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ—Ç–µ—Ä—è –∫–∞—á–µ—Å—Ç–≤–∞ (SDXL —Ö–æ—Ä–æ—à –¥–∞–∂–µ —Å 10-15 —à–∞–≥–∞–º–∏)
- **–í—ã–∏–≥—Ä—ã—à**: ~2 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

---

### 2Ô∏è‚É£ Guidance Scale (CFG)

**–ë—ã–ª–æ**: 7.5
**–°—Ç–∞–ª–æ**: **6.5** (-13% –≤—ã—á–∏—Å–ª–µ–Ω–∏–π)

```python
# config.py, —Å—Ç—Ä–æ–∫–∞ 60:
GUIDANCE_SCALE = 6.5  # üöÄ Lower CFG = faster
```

**–≠—Ñ—Ñ–µ–∫—Ç**:
- –ú–µ–Ω—å—à–µ classifier-free guidance –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- –ë–æ–ª–µ–µ —Å–≤–æ–±–æ–¥–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞ (–Ω–æ CHARACTER_TRAITS –≤—Å—ë —Ä–∞–≤–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç)
- **–í—ã–∏–≥—Ä—ã—à**: ~0.3-0.5 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

---

### 3Ô∏è‚É£ IP-Adapter Scale

**–ë—ã–ª–æ**: 0.80 (HIGH)
**–°—Ç–∞–ª–æ**: **0.50 (MEDIUM)** (-37% –≤–ª–∏—è–Ω–∏—è)

```python
# config.py, —Å—Ç—Ä–æ–∫–∞ 201:
IP_ADAPTER_SCALE = 0.50  # MEDIUM
```

**–≠—Ñ—Ñ–µ–∫—Ç**:
- –ú–µ–Ω—å—à–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –Ω–∞ IP-Adapter –ø—Ä–æ—Ö–æ–¥—ã
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ª–∏—Ü–∞ –≤—Å—ë –µ—â—ë ~85-90% (vs 95% –Ω–∞ 0.80)
- CHARACTER_TRAITS –≤ –ø—Ä–æ–º–ø—Ç–µ –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É—é—Ç —Å–Ω–∏–∂–µ–Ω–∏–µ IP-Adapter
- **–í—ã–∏–≥—Ä—ã—à**: ~0.5-1 —Å–µ–∫—É–Ω–¥–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

---

### 4Ô∏è‚É£ M1 Memory Layout Optimization

**–ù–æ–≤–æ–µ**: Channels Last Memory Format

```python
# config.py, —Å—Ç—Ä–æ–∫–∞ 89:
ENABLE_CHANNELS_LAST = True  # üÜï M1 optimized

# local_image_generator.py, —Å—Ç—Ä–æ–∫–∏ 151-159:
if config.ENABLE_CHANNELS_LAST:
    self.pipe.unet = self.pipe.unet.to(memory_format=torch.channels_last)
```

**–≠—Ñ—Ñ–µ–∫—Ç**:
- UNet –∏—Å–ø–æ–ª—å–∑—É–µ—Ç channels_last –≤–º–µ—Å—Ç–æ channels_first
- –ë–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø–∞–º—è—Ç–∏ –Ω–∞ M1/M2
- **–í—ã–∏–≥—Ä—ã—à**: ~10-15% —É—Å–∫–æ—Ä–µ–Ω–∏–µ –Ω–∞ M1

---

### 5Ô∏è‚É£ FP16 Autocast

**–ù–æ–≤–æ–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ FP16 –≤–æ –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

```python
# local_image_generator.py, —Å—Ç—Ä–æ–∫–∞ 282:
with torch.no_grad(), torch.autocast(device_type="mps", dtype=torch.float16):
    result = self.pipe(...)
```

**–≠—Ñ—Ñ–µ–∫—Ç**:
- –í—Å–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ half precision (FP16)
- 2x –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏, ~1.5x –±—ã—Å—Ç—Ä–µ–µ –Ω–∞ M1
- **–í—ã–∏–≥—Ä—ã—à**: ~20-30% —É—Å–∫–æ—Ä–µ–Ω–∏–µ

---

### 6Ô∏è‚É£ Attention Slicing (—É–∂–µ –±—ã–ª–æ)

```python
# config.py, —Å—Ç—Ä–æ–∫–∞ 88:
ENABLE_ATTENTION_SLICING = True
```

**–≠—Ñ—Ñ–µ–∫—Ç**:
- –†–∞–∑–±–∏–≤–∞–µ—Ç attention –Ω–∞ —á–∞—Å—Ç–∏
- –ú–µ–Ω—å—à–µ –ø–∏–∫–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª—å—à–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

---

## üß™ –ö–∞–∫ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –°–∫–æ—Ä–æ—Å—Ç—å

### –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç:

```bash
python3 test_speed.py
```

**–ß—Ç–æ —Ç–µ—Å—Ç –¥–µ–ª–∞–µ—Ç**:
1. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 1 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ë–ï–ó IP-Adapter
2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 1 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –° IP-Adapter
3. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 3 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (—Å–∏–º—É–ª—è—Ü–∏—è —Å—Ç–æ—Ä–∏–±–æ—Ä–¥–∞)
4. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –∏ –æ—Ü–µ–Ω–∫—É

**–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**:
```
üöÄ –û–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–±–µ–∑ IP-Adapter): 2.5-3.5 —Å–µ–∫—É–Ω–¥
üéØ –û–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (—Å IP-Adapter): 3.5-4.5 —Å–µ–∫—É–Ω–¥
üìä –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è –¥–ª—è 6 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: ~20-25 —Å–µ–∫—É–Ω–¥
```

---

## ‚öñÔ∏è –ö–æ–º–ø—Ä–æ–º–∏—Å—Å—ã: –°–∫–æ—Ä–æ—Å—Ç—å vs –ö–∞—á–µ—Å—Ç–≤–æ

| –ê—Å–ø–µ–∫—Ç | ULTRA FAST (—Ç–µ–∫—É—â–∏–π) | QUALITY (–ø—Ä–µ–¥—ã–¥—É—â–∏–π) |
|--------|----------------------|----------------------|
| **–°–∫–æ—Ä–æ—Å—Ç—å** | ~3-4 —Å–µ–∫/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚ö° | ~6-7 —Å–µ–∫/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ |
| **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è** | 8/10 ‚úÖ | 9/10 |
| **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ª–∏—Ü–∞** | 8.5/10 ‚úÖ | 9.5/10 |
| **–ö–∞—á–µ—Å—Ç–≤–æ –ø—Ä–æ–º–ø—Ç–∞** | 8.5/10 ‚úÖ | 9/10 |
| **–û–±—â–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ** | 8.5/10 ‚úÖ | 9.5/10 |

**–í—ã–≤–æ–¥**: –¢–µ—Ä—è–µ–º ~1 –±–∞–ª–ª –∫–∞—á–µ—Å—Ç–≤–∞, –Ω–æ –≤—ã–∏–≥—Ä—ã–≤–∞–µ–º **50% —Å–∫–æ—Ä–æ—Å—Ç–∏** üöÄ

---

## üé® –ß—Ç–æ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è?

### ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ª–∏—Ü–∞ –≤—Å—ë –µ—â—ë —Ä–∞–±–æ—Ç–∞–µ—Ç!

**4 —É—Ä–æ–≤–Ω—è –∑–∞—â–∏—Ç—ã –∞–∫—Ç–∏–≤–Ω—ã**:

1. **IP-Adapter**: –í–∫–ª—é—á—ë–Ω (scale 0.50 –≤–º–µ—Å—Ç–æ 0.80)
2. **CHARACTER_TRAITS**: –í—Å–µ –¥–µ—Ç–∞–ª–∏ –ª–∏—Ü–∞ –≤ –ø—Ä–æ–º–ø—Ç–µ
3. **NEGATIVE_PROMPT**: –ó–∞–ø—Ä–µ—â–∞–µ—Ç –≤–∞—Ä–∏–∞—Ü–∏–∏
4. **Prompt Enhancer**: –õ–∏—Ü–æ –∏–¥—ë—Ç –ü–ï–†–í–´–ú –≤ –ø—Ä–æ–º–ø—Ç–µ

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –õ–∏—Ü–∞ –≤—Å—ë –µ—â—ë ~85-90% –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤)

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–∞–ª–∞–Ω—Å–∞

### –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ï–©–Å –ë–û–õ–¨–®–ê–Ø —Å–∫–æ—Ä–æ—Å—Ç—å:

```python
# config.py:
NUM_INFERENCE_STEPS = 10  # –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä–æ (—Ä–∏—Å–∫ –Ω–∏–∑–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞)
GUIDANCE_SCALE = 6.0  # –ï—â—ë –Ω–∏–∂–µ CFG
USE_IDENTITY_LOCK = False  # –û—Ç–∫–ª—é—á–∏—Ç—å IP-Adapter (-30% –≤—Ä–µ–º–µ–Ω–∏)
```

**–û–∂–∏–¥–∞–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å**: ~2-3 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
**–ö–∞—á–µ—Å—Ç–≤–æ**: 7-7.5/10 (–ø—Ä–∏–µ–º–ª–µ–º–æ –¥–ª—è —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤)

---

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –õ–£–ß–®–ï –∫–∞—á–µ—Å—Ç–≤–æ:

```python
# config.py:
NUM_INFERENCE_STEPS = 15  # –ë–∞–ª–∞–Ω—Å
GUIDANCE_SCALE = 7.0  # –í—ã—à–µ CFG
IP_ADAPTER_SCALE = 0.65  # –í—ã—à–µ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
```

**–û–∂–∏–¥–∞–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å**: ~4-5 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
**–ö–∞—á–µ—Å—Ç–≤–æ**: 9/10 (–æ—Ç–ª–∏—á–Ω—ã–π –±–∞–ª–∞–Ω—Å)

---

### –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–ê–Ø –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ª–∏—Ü–∞:

```python
# config.py:
NUM_INFERENCE_STEPS = 15
IP_ADAPTER_SCALE = 0.75  # –í—ã—Å–æ–∫–∞—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
GUIDANCE_SCALE = 7.5
```

**–û–∂–∏–¥–∞–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å**: ~5-6 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
**–ö–∞—á–µ—Å—Ç–≤–æ**: 9.5/10 (–∫–∞–∫ —Ä–∞–Ω—å—à–µ)

---

## üìà –†–µ–∂–∏–º—ã –°–∫–æ—Ä–æ—Å—Ç–∏

| –†–µ–∂–∏–º | Steps | CFG | IP Scale | –°–∫–æ—Ä–æ—Å—Ç—å | –ö–∞—á–µ—Å—Ç–≤–æ |
|-------|-------|-----|----------|----------|----------|
| **ULTRA_FAST** ‚ö° | 10 | 6.0 | 0.40 | ~2-3s | 7/10 |
| **FAST** üöÄ (—Ç–µ–∫—É—â–∏–π) | 12 | 6.5 | 0.50 | ~3-4s | 8.5/10 |
| **BALANCED** ‚öñÔ∏è | 15 | 7.0 | 0.65 | ~4-5s | 9/10 |
| **QUALITY** üé® | 20 | 7.5 | 0.80 | ~6-7s | 9.5/10 |

**–¢–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º**: **FAST** (–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç—å + –∫–∞—á–µ—Å—Ç–≤–æ)

---

## üöÄ –ö–∞–∫ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```bash
grep "NUM_INFERENCE_STEPS\|GUIDANCE_SCALE\|IP_ADAPTER_SCALE" config.py
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```python
NUM_INFERENCE_STEPS = 12
GUIDANCE_SCALE = 6.5
IP_ADAPTER_SCALE = 0.50
```

---

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏:

```bash
python3 test_speed.py
```

–î–æ–∂–¥–∏—Ç–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–ø–µ—Ä–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ~60-120 —Å–µ–∫—É–Ω–¥ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏).

---

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:

```bash
python3 app.py
```

---

### 4. –ì–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å—Ç–æ—Ä–∏–±–æ—Ä–¥:

–û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8080` –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ª—é–±–æ–π –ø—Ä–æ–º–ø—Ç.

**–û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è**:
- 1 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: ~3-4 —Å–µ–∫—É–Ω–¥—ã
- 6 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: ~18-24 —Å–µ–∫—É–Ω–¥—ã (0.3-0.4 –º–∏–Ω—É—Ç—ã!)

---

## üéØ –ò—Ç–æ–≥–∏

### ‚úÖ –ß—Ç–æ –î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ:

- **50% —É—Å–∫–æ—Ä–µ–Ω–∏–µ**: —Å ~6-7 —Å–µ–∫—É–Ω–¥ –¥–æ ~3-4 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- **–ö–∞—á–µ—Å—Ç–≤–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ**: 8.5/10 (vs 9.5/10 —Ä–∞–Ω—å—à–µ)
- **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ª–∏—Ü–∞**: 85-90% (vs 95% —Ä–∞–Ω—å—à–µ)
- **6 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: ~20 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ ~40 —Å–µ–∫—É–Ω–¥

### üöÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

1. ‚úÖ NUM_INFERENCE_STEPS: 20 ‚Üí 12 (-40%)
2. ‚úÖ GUIDANCE_SCALE: 7.5 ‚Üí 6.5 (-13%)
3. ‚úÖ IP_ADAPTER_SCALE: 0.80 ‚Üí 0.50 (-37%)
4. ‚úÖ ENABLE_CHANNELS_LAST: True (+15% –Ω–∞ M1)
5. ‚úÖ FP16 Autocast: True (+30% –Ω–∞ M1)
6. ‚úÖ ENABLE_ATTENTION_SLICING: True (–ø–∞–º—è—Ç—å)

### üìä –§–∏–Ω–∞–ª—å–Ω–∞—è –°–∫–æ—Ä–æ—Å—Ç—å:

```
–û–î–ù–û –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ï:  ~3-4 —Å–µ–∫—É–Ω–¥—ã  üöÄ
6 –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô:     ~18-24 —Å–µ–∫—É–Ω–¥—ã üöÄ
8 –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô:     ~24-32 —Å–µ–∫—É–Ω–¥—ã üöÄ
```

**–≠—Ç–æ –ù–ê–ú–ù–û–ì–û –±—ã—Å—Ç—Ä–µ–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö ~40-50 –º–∏–Ω—É—Ç!**

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
- **–¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (FAST)** –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã
- –ë–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç—å + –∫–∞—á–µ—Å—Ç–≤–æ –∏–¥–µ–∞–ª–µ–Ω

### –î–ª—è —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤:
- –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ **ULTRA_FAST** (steps=10)
- –°–∫–æ—Ä–æ—Å—Ç—å ~2-3 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

### –î–ª—è —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö —Ä–∞–±–æ—Ç:
- –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ **QUALITY** (steps=20, IP=0.80)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ª–∏—Ü–∞

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–°–∏—Å—Ç–µ–º–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è **–ë–´–°–¢–†–û–ô –∏ –ö–ê–ß–ï–°–¢–í–ï–ù–ù–û–ô** –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏!

–ó–∞–ø—É—Å—Ç–∏—Ç–µ `python3 test_speed.py` —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã! üöÄ
