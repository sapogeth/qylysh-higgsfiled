# ะัััััะน ะกัะฐัั: ะะพะฝะบััะตะฝัะฝะพะต ะะฑััะตะฝะธะต LoRA

## ะงัะพ ะดะตะปะฐะตั ัะธััะตะผะฐ?

1. **ะะฝะฐะปะธะทะธััะตั** ัะตัะตัะตะฝัะฝัะต ัะพัะบะธ ะะปะดะฐั ะะพัะต (aldar1-5.png)
2. **ะะตะฝะตัะธััะตั** ะธะทะพะฑัะฐะถะตะฝะธั ัะตัะตะท:
   - LoRA (ะฒะฐัะฐ ะปะพะบะฐะปัะฝะฐั ะผะพะดะตะปั)
   - Freepik AI
   - DeepAI
   - Google Gemini (ะพะฟัะธะพะฝะฐะปัะฝะพ)
3. **ะกัะฐะฒะฝะธะฒะฐะตั** ะบะฐัะตััะฒะพ ะฒัะตั ัะตะทัะปััะฐัะพะฒ
4. **ะะพะฒะพัะธั LoRA** ะณะดะต ัะปัััะฐัััั
5. **ะะพะฒัะพััะตั** ะฟะพะบะฐ LoRA ะฝะต ััะฐะฝะตั ะปัััะตะน

## ะฃััะฐะฝะพะฒะบะฐ ะทะฐ 3 ัะฐะณะฐ

### 1. ะฃััะฐะฝะพะฒะธัะต ะฟะฐะบะตัั

```bash
pip install -r requirements.txt
```

ะญัะพ ัััะฐะฝะพะฒะธั:
- PyTorch, Diffusers, Transformers (ะดะปั LoRA)
- CLIP, scikit-image (ะดะปั ะฐะฝะฐะปะธะทะฐ)
- Requests (ะดะปั API ะฟัะพะฒะฐะนะดะตัะพะฒ)

### 2. ะะฐัะธ API ะบะปััะธ ัะถะต ะฒ .env

ะฏ ัะถะต ะดะพะฑะฐะฒะธะป ะฒะฐัะธ ะบะปััะธ:

```
DEEPSEEK_API_KEY=sk-2ce976ae9f1a4c8583b707c236fa6139
FREEPIK_API_KEY=FPSX193caafa0683767de2a873582de96305
DEEPAI_API_KEY=bceb509d99484191608a4c615530003a8c9a8e99cd87bc98b500f293bd19be75
GEMINI_API_KEY=AIzaSyBKZihsdTcixwCcYgiGDK696lUsaJ8cEbs
```

### 3. ะัะพะฒะตัััะต ัะธััะตะผั

```bash
python3 test_competitive_training.py
```

## ะะฐะฟััะบ ะพะฑััะตะฝะธั

```bash
python3 train_lora_competitive.py
```

## ะงัะพ ะฟัะพะธััะพะดะธั?

### ะัะตัะฐัะธั 1

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ะะขะะะะฆะะฏ 1
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

[ะจะะ 1] ะะฝะฐะปะธะท ัะตัะตัะตะฝัะพะฒ...
  โ aldar1.png: round face (0.85), narrow eyes (0.78), ...
  โ aldar2.png: round face (0.82), narrow eyes (0.80), ...
  ...

[ะจะะ 2] ะะตะฝะตัะฐัะธั ะธะทะพะฑัะฐะถะตะฝะธะน...
  [LORA] ะะตะฝะตัะฐัะธั...
    โ ะกะณะตะฝะตัะธัะพะฒะฐะฝะพ ะทะฐ 45.3s
  [FREEPIK] ะะตะฝะตัะฐัะธั...
    โ ะกะณะตะฝะตัะธัะพะฒะฐะฝะพ ะทะฐ 8.2s
  [DEEPAI] ะะตะฝะตัะฐัะธั...
    โ ะกะณะตะฝะตัะธัะพะฒะฐะฝะพ ะทะฐ 12.5s

[ะจะะ 3] ะกัะฐะฒะฝะตะฝะธะต ะบะฐัะตััะฒะฐ...
  [LORA]
    CLIP similarity: avg=0.742, max=0.801
    Feature matching: 0.715
    Structural similarity (SSIM): 0.623
    ๐ ะะฑัะธะน Quality Score: 0.712

  [FREEPIK]
    CLIP similarity: avg=0.819, max=0.863
    Feature matching: 0.788
    Structural similarity (SSIM): 0.701
    ๐ ะะฑัะธะน Quality Score: 0.795

  [DEEPAI]
    CLIP similarity: avg=0.651, max=0.705
    Feature matching: 0.632
    Structural similarity (SSIM): 0.558
    ๐ ะะฑัะธะน Quality Score: 0.645

[ะจะะ 4] ะะฑัะฐัะฝะฐั ัะฒัะทั ะดะปั LoRA...
  LoRA Score: 0.712
  ะัััะธะน ะบะพะฝะบััะตะฝั (freepik): 0.795
  ะะฐะทะฝะธัะฐ: 0.083

  โ๏ธ  LoRA ะฝัะถะดะฐะตััั ะฒ ัะปัััะตะฝะธะธ!

  ะะตะบะพะผะตะฝะดะฐัะธะธ:
    โข ะฃะปัััะธัั ัะตะผะฐะฝัะธัะตัะบะพะต ััะพะดััะฒะพ ั ัะตัะตัะตะฝัะฐะผะธ (ะพัััะฐะฒะฐะฝะธะต: 0.077)
    โข ะฃะปัััะธัั ัะพะพัะฒะตัััะฒะธะต ะบะปััะตะฒัะผ ัะฐัะฐะบัะตัะธััะธะบะฐะผ (ะพัััะฐะฒะฐะฝะธะต: 0.073)

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ะะขะะะะฆะะฏ 1 ะะะะะะจะะะ
ะัะตะผั: 82.5s
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ LoRA ััะตะฑัะตั ัะปัััะตะฝะธั. ะะตัะตัะพะด ะบ ะธัะตัะฐัะธะธ 2...
```

### ะัะตัะฐัะธั 2

ะกะธััะตะผะฐ ะฟะพะฒัะพััะตั ะฟัะพัะตัั, ะฟัะธะผะตะฝัั feedback...

### ะัะตัะฐัะธั 3

ะัะปะธ LoRA ะฒัั ะตัั ะพัััะฐัั, ะดะตะปะฐะตััั ัะธะฝะฐะปัะฝะฐั ะธัะตัะฐัะธั.

## ะะตะทัะปััะฐัั

ะัั ัะพััะฐะฝัะตััั ะฒ `lora_training_results/`:

```
lora_training_results/
โโโ comparisons/
โ   โโโ lora_20241020_153022.png      โ ะะทะพะฑัะฐะถะตะฝะธะต ะพั LoRA
โ   โโโ freepik_20241020_153022.png   โ ะะทะพะฑัะฐะถะตะฝะธะต ะพั Freepik
โ   โโโ deepai_20241020_153022.png    โ ะะทะพะฑัะฐะถะตะฝะธะต ะพั DeepAI
โ   โโโ comparison_report_*.json       โ ะะตัะฐะปัะฝัะน ะพััะตั
โโโ feedback/
โ   โโโ feedback_*.json                โ ะะตะบะพะผะตะฝะดะฐัะธะธ ะดะปั LoRA
โโโ training_history.json              โ ะััะพัะธั ะฒัะตั ะธัะตัะฐัะธะน
```

## ะะฝัะตัะฟัะตัะฐัะธั Quality Score

- **0.9 - 1.0**: ๐ ะะดะตะฐะปัะฝะพ! LoRA - ัะตะผะฟะธะพะฝ!
- **0.8 - 0.9**: โ ะัะปะธัะฝะพ! ะะพััะธ ะธะดะตะฐะปัะฝะพ
- **0.7 - 0.8**: ๐ ะฅะพัะพัะพ, ะฝะพ ะผะพะถะฝะพ ะปัััะต
- **0.6 - 0.7**: ๐ ะกัะตะดะฝะต, ะฝัะถะฝั ัะปัััะตะฝะธั
- **< 0.6**: ๐ ะกะปะฐะฑะพ, ัะตัััะทะฝัะต ะฟัะพะฑะปะตะผั

## ะงัะพ ะดะตะปะฐัั ั ัะตะทัะปััะฐัะฐะผะธ?

### ะัะปะธ LoRA ะปัััะต ะฒัะตั

```
โ LoRA ะฟะพะบะฐะทัะฒะฐะตั ะปัััะธะต ัะตะทัะปััะฐัั!
```

**ะะฐัะธ ะดะตะนััะฒะธั**:
- ะัะฟะพะปัะทัะนัะต ััั LoRA ะดะปั ะณะตะฝะตัะฐัะธะธ!
- ะกะพััะฐะฝะธัะต ะผะพะดะตะปั: ะพะฝะฐ ะฒ `models/aldar_kose_lora.safetensors`

### ะัะปะธ LoRA ะพัััะฐัั

```
โ๏ธ  LoRA ะฝัะถะดะฐะตััั ะฒ ัะปัััะตะฝะธะธ!
ะะตะบะพะผะตะฝะดะฐัะธะธ:
  โข ะฃะปัััะธัั ัะตะผะฐะฝัะธัะตัะบะพะต ััะพะดััะฒะพ...
  โข ะฃะปัััะธัั ัะพะพัะฒะตัััะฒะธะต ะบะปััะตะฒัะผ ัะฐัะฐะบัะตัะธััะธะบะฐะผ...
```

**ะะฐัะธ ะดะตะนััะฒะธั**:
1. ะัะพะฒะตัััะต `feedback/*.json` - ัะฐะผ ะดะตัะฐะปะธ
2. ะะพะทะผะพะถะฝัะต ัะตัะตะฝะธั:
   - ะฃะฒะตะปะธัะธัั ัะฐะณะธ ะพะฑััะตะฝะธั (ะฒ `config.py`: `TRAINING_STEPS`)
   - ะะทะผะตะฝะธัั learning rate (ะฒ `config.py`: `LEARNING_RATE`)
   - ะะพะฑะฐะฒะธัั ะฑะพะปััะต ัะตัะตัะตะฝัะพะฒ
   - ะฃะปัััะธัั ะฟัะพะผะฟัั

## ะขะตััะธัะพะฒะฐะฝะธะต ะพัะดะตะปัะฝัั ะบะพะผะฟะพะฝะตะฝัะพะฒ

### 1. ะขะพะปัะบะพ ะฐะฝะฐะปะธะท ัะตัะตัะตะฝัะพะฒ

```bash
python3 feature_analyzer.py
```

ะะตะทัะปััะฐั: `models/aldar_feature_analysis.json`

### 2. ะขะพะปัะบะพ ััะฐะฒะฝะตะฝะธะต ะบะฐัะตััะฒะฐ

```bash
python3 image_comparator.py
```

### 3. ะขะพะปัะบะพ AI ะฟัะพะฒะฐะนะดะตัั

```bash
python3 ai_providers.py
```

## FAQ

**Q: ะกะบะพะปัะบะพ ะฒัะตะผะตะฝะธ ะทะฐะฝะธะผะฐะตั?**
A: ~5-10 ะผะธะฝัั ะฝะฐ ะธัะตัะฐัะธั (ะทะฐะฒะธัะธั ะพั API ะฟัะพะฒะฐะนะดะตัะพะฒ ะธ ะฒะฐัะตะณะพ M1)

**Q: ะัะถะฝะพ ะปะธ ะพะฑััะฐัั LoRA ะพัะดะตะปัะฝะพ?**
A: ะะฐ, ัะฝะฐัะฐะปะฐ ะทะฐะฟัััะธัะต `python3 train_aldar_lora.py` ะธะปะธ `python3 setup.py`

**Q: ะะพะถะฝะพ ะปะธ ะธัะฟะพะปัะทะพะฒะฐัั ัะพะปัะบะพ ะพะดะธะฝ AI ะฟัะพะฒะฐะนะดะตั?**
A: ะะฐ! ะัะพััะพ ัะดะฐะปะธัะต ะฝะตะฝัะถะฝัะต ะบะปััะธ ะธะท `.env`

**Q: ะงัะพ ะตัะปะธ ั ะผะตะฝั ะฝะตั API ะบะปััะตะน?**
A: ะกะธััะตะผะฐ ะฒัั ัะฐะฒะฝะพ ะฑัะดะตั ัะฐะฑะพัะฐัั, ะฝะพ ััะฐะฒะฝะตะฝะธะต ะฑัะดะตั ัะพะปัะบะพ ั ะปะพะบะฐะปัะฝะพะน LoRA

**Q: ะะฐะบ ัะฐััะพ ะทะฐะฟััะบะฐัั ะพะฑััะตะฝะธะต?**
A: ะะพัะปะต ะบะฐะถะดะพะณะพ ะธะทะผะตะฝะตะฝะธั:
- ะะพะฒัั ัะตัะตัะตะฝัะพะฒ
- ะะทะผะตะฝะตะฝะธั ะฟัะพะผะฟัะพะฒ
- ะะทะผะตะฝะตะฝะธั ะฟะฐัะฐะผะตััะพะฒ ะพะฑััะตะฝะธั

## ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั

ะกะผะพััะธัะต [COMPETITIVE_TRAINING_README.md](COMPETITIVE_TRAINING_README.md)

---

**ะะพัะพะฒั?** ะะฐะฟััะบะฐะนัะต:

```bash
python3 train_lora_competitive.py
```

**ะฃะดะฐัะธ!** ๐
